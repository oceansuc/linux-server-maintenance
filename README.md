# linux-server-maintenance
# ğŸš€ Safe & Optimized Linux æœåŠ¡å™¨ç£ç›˜æ¸…ç†è„šæœ¬

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Bash Shell](https://img.shields.io/badge/Shell-Bash-1f425f.svg)](https://www.gnu.org/software/bash/)
[![GitHub Repo stars](https://img.shields.io/github/stars/oceansuc/linux-server-maintenance?style=social)](https://github.com/oceansuc/linux-server-maintenance)

## ç®€ä»‹

`clean_disk_optimized.sh` æ˜¯ä¸€ä¸ªä¸“ä¸º Linux æœåŠ¡å™¨è®¾è®¡çš„ï¼Œ**å®‰å…¨ã€å…¨é¢ä¸”è·¨å‘è¡Œç‰ˆ**çš„ç£ç›˜ç©ºé—´æ¸…ç†è„šæœ¬ã€‚

å®ƒæ—¨åœ¨é€šè¿‡æ¸…ç†å†—ä½™çš„ç¼“å­˜ã€æ—¥å¿—å’Œä¸´æ—¶æ–‡ä»¶æ¥æ¢å¤ç£ç›˜ç©ºé—´ï¼ŒåŒæ—¶é¿å…åˆ é™¤æ­£åœ¨ä½¿ç”¨çš„å…³é”®æ–‡ä»¶ï¼Œå¹¶åœ¨æœ€åæä¾›ä¸€ä»½éœ€è¦**äººå·¥ç¡®è®¤**çš„å¤§æ–‡ä»¶åˆ—è¡¨ï¼Œæ˜¯æœåŠ¡å™¨æ—¥å¸¸ç»´æŠ¤çš„ç†æƒ³å·¥å…·ã€‚

### âœ¨ æ ¸å¿ƒç‰¹æ€§

* **è·¨å‘è¡Œç‰ˆå…¼å®¹ï¼š** è‡ªåŠ¨æ£€æµ‹å¹¶æ”¯æŒ `apt` (Debian/Ubuntu)ã€`yum` (CentOS/RHEL) å’Œ `dnf` (Fedora/CentOS 8+)ã€‚
* **å®‰å…¨æ—¥å¿—å¤„ç†ï¼š** ä½¿ç”¨ `journalctl --vacuum` å’Œ `truncate -s 0` æ¸…ç†æ—¥å¿—ï¼Œç¡®ä¿è¿›ç¨‹æ–‡ä»¶å¥æŸ„ï¼ˆFile Handlersï¼‰ä¸ä¼šå¯¼è‡´ç©ºé—´ä¸é‡Šæ”¾ã€‚
* **Docker æ·±åº¦æ¸…ç†ï¼š** è‡ªåŠ¨æ¸…ç†æœªä½¿ç”¨çš„ Docker é•œåƒã€ç½‘ç»œã€æ„å»ºç¼“å­˜ç­‰èµ„æºã€‚
* **å¤šè·¯å¾„æ¸…ç†ï¼š** æ¸…ç†åŒ…ç®¡ç†å™¨ç¼“å­˜ã€ç³»ç»Ÿæ—¥å¿—ã€Web æœåŠ¡å™¨æ—¥å¿—ï¼ˆNginx/Apacheï¼‰ä»¥åŠ Root/ç”¨æˆ·ç¼“å­˜ã€‚
* **äººå·¥ä¿éšœï¼š** è„šæœ¬å°†æœ€å±é™©çš„æ­¥éª¤ï¼ˆåˆ é™¤æœ€å¤§çš„ 15 ä¸ªæ–‡ä»¶ï¼‰ç•™ç»™ç”¨æˆ·è¿›è¡Œäººå·¥å®¡æŸ¥å’Œå†³ç­–ã€‚

---

## ğŸ› ï¸ å¦‚ä½•ä½¿ç”¨
```bash
 # 1. ä¸‹è½½è„šæœ¬åˆ°å½“å‰ç›®å½•

wget https://raw.githubusercontent.com/oceansuc/linux-server-maintenance/main/clean_disk_optimized.sh

# 2. èµ‹äºˆæ‰§è¡Œæƒé™

chmod +x clean_disk_optimized.sh

# 3. ä»¥ root æƒé™è¿è¡Œ

sudo ./clean_disk_optimized.sh

# 4. å®Œæˆäººå·¥ç¡®è®¤ (Step 8)
è„šæœ¬æ‰§è¡Œåˆ°æœ€åæ—¶ï¼Œä¼šåˆ—å‡ºå…¨ç›˜æœ€å¤§çš„ 15 ä¸ªæ–‡ä»¶ï¼ˆä»¥ MB ä¸ºå•ä½ï¼‰ã€‚è¿™æ˜¯æœ€æœ‰å¯èƒ½é‡Šæ”¾å¤§é‡ç©ºé—´çš„åœ°æ–¹ã€‚

è¯·æ ¹æ®æ‚¨çš„æœåŠ¡å™¨æƒ…å†µï¼Œæ‰‹åŠ¨ç¡®è®¤å¹¶åˆ é™¤è¿™äº›åˆ—è¡¨ä¸­ä¸éœ€è¦çš„æ–‡ä»¶ã€‚

| Step | æ¸…ç†ç›®æ ‡ | æè¿° |
| :--- | :--- | :--- |
| **1** | è½¯ä»¶åŒ…ç¼“å­˜ | æ¸…ç† APT/YUM/DNF çš„ä¸‹è½½ç¼“å­˜å’Œä¸å†éœ€è¦çš„ä¾èµ–åŒ…ã€‚ |
| **2** | Systemd æ—¥å¿— | é™åˆ¶ `journalctl` æ—¥å¿—å¤§å°ï¼ˆä¿ç•™æœ€è¿‘ 100M æˆ– 1 å¤©ï¼‰ã€‚ |
| **3** | æ—§ç³»ç»Ÿæ—¥å¿— | åˆ é™¤ `/var/log` ä¸‹çš„å½’æ¡£æ—¥å¿—ï¼ˆ`.gz`, `.1`ï¼‰å¹¶å®‰å…¨æˆªæ–­å¤§å‹ `.log` æ–‡ä»¶ã€‚ |
| **4** | Web æœåŠ¡å™¨æ—¥å¿— | æ¸…ç† Nginx/Apache çš„æ—§è®¿é—®æ—¥å¿—å’Œé”™è¯¯æ—¥å¿—ã€‚ |
| **5** | Docker åƒåœ¾ | ä½¿ç”¨ `docker system prune -af` æ¸…ç†æ‰€æœ‰æœªä½¿ç”¨çš„ Docker èµ„æºã€‚ |
| **6** | ä¸´æ—¶æ–‡ä»¶ | åˆ é™¤ `/tmp` (7å¤©) å’Œ `/var/tmp` (30å¤©) ä¸‹çš„æ—§æ–‡ä»¶å’Œç›®å½•ã€‚ |
| **7** | ç”¨æˆ·åº”ç”¨ç¼“å­˜ | æ¸…ç† Root ç”¨æˆ·çš„ç¼“å­˜å’Œ `/home` ç›®å½•ä¸‹çš„ç”¨æˆ·ç¼©ç•¥å›¾ç¼“å­˜ã€‚ |
| **8** | **äººå·¥ç¡®è®¤** | æ‰«æå¹¶åˆ—å‡ºæœ€å¤§çš„ 15 ä¸ªæ–‡ä»¶ä¾›ç”¨æˆ·æ‰‹åŠ¨åˆ é™¤ã€‚ |
